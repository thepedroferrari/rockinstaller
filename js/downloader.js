!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.download=b()}(this,function(){return function a(b,c,d){function r(a){var b=a.split(/[:;,]/),c=b[1],d="base64"==b[2]?atob:decodeURIComponent,e=d(b.pop()),f=e.length,g=0,h=new Uint8Array(f);for(g;g<f;++g)h[g]=e.charCodeAt(g);return new m([h],{type:c})}function s(a,b){if("download"in k)return k.href=a,k.setAttribute("download",n),k.className="download-js-link",k.innerHTML="downloading...",j.body.appendChild(k),setTimeout(function(){k.click(),j.body.removeChild(k),b===!0&&setTimeout(function(){e.URL.revokeObjectURL(k.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return a=a.replace(/^data:([\w\/\-\+]+)/,f),window.open(a)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=a),!0;var c=j.createElement("iframe");j.body.appendChild(c),b||(a="data:"+a.replace(/^data:([\w\/\-\+]+)/,f)),c.src=a,setTimeout(function(){j.body.removeChild(c)},333)}var o,p,q,e=window,f="application/octet-stream",g=d||f,h=b,i=!c&&!d&&h,j=document,k=j.createElement("a"),l=function(a){return String(a)},m=e.Blob||e.MozBlob||e.WebKitBlob||l,n=c||"download";if(m=m.call?m.bind(e):Blob,"true"===String(this)&&(h=[h,g],g=h[0],h=h[1]),i&&i.length<2048&&(n=i.split("/").pop().split("?")[0],k.href=i,k.href.indexOf(i)!==-1)){var q=new XMLHttpRequest;return q.open("GET",i,!0),q.responseType="blob",q.onload=function(b){a(b.target.response,n,f)},q.send(),q}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(h))return navigator.msSaveBlob?navigator.msSaveBlob(r(h),n):s(h);if(o=h instanceof m?h:new m([h],{type:g}),navigator.msSaveBlob)return navigator.msSaveBlob(o,n);if(e.URL)s(e.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===l)try{return s("data:"+g+";base64,"+e.btoa(o))}catch(a){return s("data:"+g+","+encodeURIComponent(o))}p=new FileReader,p.onload=function(a){s(this.result)},p.readAsDataURL(o)}return!0}});